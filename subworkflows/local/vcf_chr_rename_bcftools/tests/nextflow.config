params {
    max_memory = '7.GB'
}

process {
    withName: BCFTOOLS_ANNOTATE {
        ext.args = [
            "-Oz",
            "--no-version"
        ].join(' ')
        ext.prefix = { "${meta.id}_chrrename" }
    }
    withName: GAWK {
        ext.args2 = 'BEGIN {FS="\\t"} NR==1 { if ($1 ~ /^chr/) { col1=""; col2="chr" } else { col1="chr"; col2="" } } { sub(/^chr/, "", $1); if ($1 ~ /^[0-9]+|[XYMT]$/) print col1$1, col2$1; else print $1, $1 }'
        ext.prefix = { "${meta.id}_renaming_file" }
    }
}
