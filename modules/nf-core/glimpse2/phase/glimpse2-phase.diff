Changes in module 'nf-core/glimpse2/phase'
--- modules/nf-core/glimpse2/phase/main.nf
+++ modules/nf-core/glimpse2/phase/main.nf
@@ -18,11 +18,11 @@
         'biocontainers/glimpse-bio:2.0.1--h46b9e50_1' }"
 
     input:
-        tuple val(meta) , path(input), path(input_index), path(samples_file), val(input_region), val(output_region), path(reference), path(reference_index), path(map)
+        tuple val(meta) , path(input, arity: '1..*'), path(input_index), path(samples_file), val(input_region), val(output_region), path(reference), path(reference_index), path(map)
         tuple val(meta2), path(fasta_reference), path(fasta_reference_index)
 
     output:
-        tuple val(meta), path("*.{vcf,bcf,bgen}"), emit: phased_variants
+        tuple val(meta), path("*.{vcf,vcf.gz,bcf,bgen}"), emit: phased_variants
         tuple val(meta), path("*.txt.gz")        , emit: stats_coverage, optional: true
         path "versions.yml"                      , emit: versions
 
@@ -41,15 +41,39 @@
     def input_region_cmd      = input_region        ? "--input-region $input_region"  : ""
     def output_region_cmd     = output_region       ? "--output-region $output_region": ""
 
-    def input_bam             = input.any { it.extension in ["cram","bam"]}
+    def input_type            = input.collect{
+        it.toString().endsWithAny("cram", "bam") ? "bam" :
+        it.toString().endsWithAny("vcf", "bcf", "vcf.gz") ? "gl" :
+        it.getExtension()
+        }.unique()
+
+    if (input_type.size() > 1 | !(input_type.contains("gl") | input_type.contains("bam"))) {
+        error "Input files must be of the same type and either .bam/.cram or .vcf/.vcf.gz/.bcf format. Found: ${input_type}"
+    } else {
+        input_type = input_type[0]
+    }
+    if (input_type == "gl" & input.size() > 1) {
+        error "Only one input .vcf/.vcf.gz/.bcf file can be provided"
+    }
+    def input_list = input.size() > 1
 
     """
-    if $input_bam
+    if $input_list ;
     then
         ls -1 | grep '\\.cram\$\\|\\.bam\$' > all_bam.txt
         input_command="--bam-list all_bam.txt"
     else
-        input_command="--input-gl $input"
+        if [ "$input_type" == "bam" ];
+        then
+            input_command="--bam-file $input"
+        elif [ "$input_type" == "gl" ];
+        then
+            input_command="--input-gl $input"
+        else
+            echo "Input file type not recognised"
+            echo "$input_type"
+            exit 1
+        fi
     fi
 
     GLIMPSE2_phase \\

************************************************************
